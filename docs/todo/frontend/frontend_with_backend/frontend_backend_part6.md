---
sidebar_position: 6
---

# 鉴权

鉴权（Authentication）是一种用于验证用户身份和权限的机制。在 Web 应用程序中，常见的鉴权方式包括使用用户名和密码进行身份验证、使用令牌（Token）进行身份验证，或使用其他身份验证协议（如 OAuth）等。

## docs

当后端有鉴权功能时，前端需要改变，首先查看docs api文档

![](img/6_1.png)

可以看到许多api请求多了小锁，这代表这需要登陆才能使用这些api

首先先新建一个账户，通过`users`中的`POST`

![](img/6_2.png)

修改对应的用户名，邮箱，密码后点击Execute，这将注册一个账号。

![](img/6_3.png)

点击右上角的`Authorize`按钮

![](img/6_4.png)

输入刚注册的邮箱与密码，点击`Authorize`按钮

![](img/6_5.png)

点击close，此时可以使用带锁的api

## 令牌

令牌（Token）是一种常见的鉴权机制，用于验证用户身份和授权访问资源。在 Web 应用程序中，令牌通常是一串字符串，作为客户端和服务器之间进行身份验证和授权的凭证。

以下是常见的令牌类型：

1. 访问令牌（Access Token）：用于验证用户身份并授权对受保护资源的访问。访问令牌通常在用户成功进行身份验证后由身份提供商（如认证服务器）颁发，并包含了关于用户身份和权限的信息。

2. 刷新令牌（Refresh Token）：用于刷新访问令牌的令牌。刷新令牌通常在用户成功进行身份验证后与访问令牌一起颁发，并用于在访问令牌过期后获取新的有效访问令牌。

3. JSON Web 令牌（JSON Web Token，JWT）：是一种开放标准（RFC 7519），用于在网络应用间安全传输声明。JWT 通常由三部分组成：头部（Header）、载荷（Payload）和签名（Signature）。它可以用于身份验证和授权，以及在应用程序之间传递声明和信息。

使用令牌进行鉴权的流程通常如下：

1. 用户提供凭据（如用户名和密码）进行身份验证。
2. 身份验证成功后，服务器生成一个令牌，并将其返回给客户端。
3. 客户端在后续请求中将令牌作为身份验证凭证发送给服务器。
4. 服务器验证令牌的有效性和权限，并根据需要授权访问受保护的资源。

请注意，令牌的实现和使用方式可能因应用程序的需求和安全要求而有所不同。对于具体的实现和使用方法，请参考所使用的鉴权方案、认证服务器或相关文档。

![](img/6_6.png)

当使用`GET`时，可以发现

```bash
curl -X 'GET' \
  'http://localhost:8000/api/todos/' \
  -H 'accept: application/json' \
  -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjM1NTI3MzkxMjQsInN1YiI6IjEyIn0.xWTLYFS3M2cYzuLSyqIFCxHPIFDM-5cjwsuhgYPPO0U'
```

这比之前多了一个Head,内容为一长串字符串，这就是令牌

## 需求

当后端有鉴权功能，那么对应的也需要有登录，注册，注销，修改用户名/密码等功能

所以也需要有一个导航栏访问这些页面，当没有登陆时，部分页面不可见。