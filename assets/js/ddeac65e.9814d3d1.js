"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9696],{32107:(s,n,e)=>{e.r(n),e.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>o});var t=e(13274),r=e(71377);const i={id:"class",sidebar_position:5},a="\u7c7b",c={id:"frontend/javascript/class",title:"\u7c7b",description:"\u5728\u9762\u5411\u5bf9\u8c61\u7684\u7f16\u7a0b\u4e2d\uff0cclass \u662f\u7528\u4e8e\u521b\u5efa\u5bf9\u8c61\u7684\u53ef\u6269\u5c55\u7684\u7a0b\u5e8f\u4ee3\u7801\u6a21\u7248\uff0c\u5b83\u4e3a\u5bf9\u8c61\u63d0\u4f9b\u4e86\u72b6\u6001\uff08\u6210\u5458\u53d8\u91cf\uff09\u7684\u521d\u59cb\u503c\u548c\u884c\u4e3a\uff08\u6210\u5458\u51fd\u6570\u6216\u65b9\u6cd5\uff09\u7684\u5b9e\u73b0\u3002",source:"@site/docs/frontend/javascript/class.md",sourceDirName:"frontend/javascript",slug:"/frontend/javascript/class",permalink:"/cs202/frontend/javascript/class",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/frontend/javascript/class.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{id:"class",sidebar_position:5},sidebar:"frontendSidebar",previous:{title:"\u51fd\u6570",permalink:"/cs202/frontend/javascript/function"},next:{title:"\u6d4f\u89c8\u5668\u4e2d\u7684 JavaScript",permalink:"/cs202/frontend/javascript/broswer"}},l={},o=[{value:"class \u8bed\u6cd5",id:"class-\u8bed\u6cd5",level:2},{value:"\u7c7b\u8868\u8fbe\u5f0f",id:"\u7c7b\u8868\u8fbe\u5f0f",level:2},{value:"Getters/setters",id:"getterssetters",level:2},{value:"Class \u5b57\u6bb5",id:"class-\u5b57\u6bb5",level:2}];function d(s){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...s.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"\u7c7b",children:"\u7c7b"}),"\n",(0,t.jsx)(n.p,{children:"\u5728\u9762\u5411\u5bf9\u8c61\u7684\u7f16\u7a0b\u4e2d\uff0cclass \u662f\u7528\u4e8e\u521b\u5efa\u5bf9\u8c61\u7684\u53ef\u6269\u5c55\u7684\u7a0b\u5e8f\u4ee3\u7801\u6a21\u7248\uff0c\u5b83\u4e3a\u5bf9\u8c61\u63d0\u4f9b\u4e86\u72b6\u6001\uff08\u6210\u5458\u53d8\u91cf\uff09\u7684\u521d\u59cb\u503c\u548c\u884c\u4e3a\uff08\u6210\u5458\u51fd\u6570\u6216\u65b9\u6cd5\uff09\u7684\u5b9e\u73b0\u3002"}),"\n",(0,t.jsx)(n.p,{children:"\u5728\u65e5\u5e38\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u7ecf\u5e38\u9700\u8981\u521b\u5efa\u8bb8\u591a\u76f8\u540c\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u4f8b\u5982\u7528\u6237\uff08users\uff09\u3001\u5546\u54c1\uff08goods\uff09\u6216\u8005\u4efb\u4f55\u5176\u4ed6\u4e1c\u897f\u3002"}),"\n",(0,t.jsx)(n.p,{children:"\u4f46\u5728\u73b0\u4ee3 JavaScript \u4e2d\uff0c\u8fd8\u6709\u4e00\u4e2a\u66f4\u9ad8\u7ea7\u7684\u201c\u7c7b\uff08class\uff09\u201d\u6784\u9020\u65b9\u5f0f\uff0c\u5b83\u5f15\u5165\u8bb8\u591a\u975e\u5e38\u68d2\u7684\u65b0\u529f\u80fd\uff0c\u8fd9\u4e9b\u529f\u80fd\u5bf9\u4e8e\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u5f88\u6709\u7528\u3002"}),"\n",(0,t.jsx)(n.p,{children:"\u57fa\u672c\u7684\u7c7b\u8bed\u6cd5\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'showLineNumbers title="script.js"',children:"class MyClass {\n  prop = value; // \u5c5e\u6027\n\n  constructor(...) { // \u6784\u9020\u5668\n    // ...\n  }\n\n  method(...) {} // method\n\n  get something(...) {} // getter \u65b9\u6cd5\n  set something(...) {} // setter \u65b9\u6cd5\n\n  [Symbol.iterator]() {} // \u6709\u8ba1\u7b97\u540d\u79f0\uff08computed name\uff09\u7684\u65b9\u6cd5\uff08\u6b64\u5904\u4e3a symbol\uff09\n  // ...\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"MyClass \u662f\u4e00\u4e2a\u51fd\u6570\uff08\u6211\u4eec\u63d0\u4f9b\u4f5c\u4e3a constructor \u7684\u90a3\u4e2a\uff09\uff0c\u800c methods\u3001getters \u548c setters \u90fd\u88ab\u5199\u5165\u4e86 MyClass.prototype\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"class-\u8bed\u6cd5",children:"class \u8bed\u6cd5"}),"\n",(0,t.jsx)(n.p,{children:"\u57fa\u672c\u8bed\u6cd5\u662f\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'showLineNumbers title="script.js"',children:"class MyClass {\n  // class \u65b9\u6cd5\n  constructor() { ... }\n  method1() { ... }\n  method2() { ... }\n  method3() { ... }\n  ...\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u4f7f\u7528 new MyClass() \u6765\u521b\u5efa\u5177\u6709\u4e0a\u8ff0\u5217\u51fa\u7684\u6240\u6709\u65b9\u6cd5\u7684\u65b0\u5bf9\u8c61\u3002"}),"\n",(0,t.jsx)(n.p,{children:"new \u4f1a\u81ea\u52a8\u8c03\u7528 constructor() \u65b9\u6cd5\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5728 constructor() \u4e2d\u521d\u59cb\u5316\u5bf9\u8c61\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'showLineNumbers title="script.js"',children:'class User {\n\n  constructor(name) {\n    this.name = name;\n  }\n\n  sayHi() {\n    alert(this.name);\n  }\n\n}\n\n// \u7528\u6cd5\uff1a\nlet user = new User("John");\nuser.sayHi();\n'})}),"\n",(0,t.jsx)(n.p,{children:'\u5f53 new User("John") \u88ab\u8c03\u7528\uff1a'}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"1\u3001\u4e00\u4e2a\u65b0\u5bf9\u8c61\u88ab\u521b\u5efa\u3002"}),"\n",(0,t.jsx)(n.li,{children:"2\u3001constructor \u4f7f\u7528\u7ed9\u5b9a\u7684\u53c2\u6570\u8fd0\u884c\uff0c\u5e76\u5c06\u5176\u8d4b\u503c\u7ed9 this.name\u3002"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u8c03\u7528\u5bf9\u8c61\u65b9\u6cd5\u4e86\uff0c\u4f8b\u5982 user.sayHi\u3002"}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsx)(n.mdxAdmonitionTitle,{}),(0,t.jsx)(n.p,{children:"\u7c7b\u7684\u65b9\u6cd5\u4e4b\u95f4\u6ca1\u6709\u9017\u53f7"}),(0,t.jsx)(n.p,{children:"\u5bf9\u4e8e\u65b0\u624b\u5f00\u53d1\u4eba\u5458\u6765\u8bf4\uff0c\u5e38\u89c1\u7684\u9677\u9631\u662f\u5728\u7c7b\u7684\u65b9\u6cd5\u4e4b\u95f4\u653e\u7f6e\u9017\u53f7\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u8bed\u6cd5\u9519\u8bef\u3002"}),(0,t.jsx)(n.p,{children:"\u4e0d\u8981\u628a\u8fd9\u91cc\u7684\u7b26\u53f7\u4e0e\u5bf9\u8c61\u5b57\u9762\u91cf\u76f8\u6df7\u6dc6\u3002\u5728\u7c7b\u4e2d\uff0c\u4e0d\u9700\u8981\u9017\u53f7\u3002"})]}),"\n",(0,t.jsx)(n.p,{children:"\u5728 JavaScript \u4e2d\uff0c\u7c7b\u662f\u4e00\u79cd\u51fd\u6570\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'showLineNumbers title="script.js"',children:"Class User {\n  constructor(name) { this.name = name; }\n  sayHi() { alert(this.name); }\n}\n\n// \u4f50\u8bc1\uff1aUser \u662f\u4e00\u4e2a\u51fd\u6570\nalert(typeof User); // function\n"})}),"\n",(0,t.jsx)(n.p,{children:"Class \u662f\u7c7b\uff0cUser\u662f\u4e00\u4e2a\u51fd\u6570\u540d\uff0c\u8be5\u51fd\u6570\u6210\u4e3a\u7c7b\u58f0\u660e\u7684\u7ed3\u679c\u3002\u8be5\u51fd\u6570\u7684\u4ee3\u7801\u6765\u81ea\u4e8e constructor \u65b9\u6cd5\uff08\u5982\u679c\u6211\u4eec\u4e0d\u7f16\u5199\u8fd9\u79cd\u65b9\u6cd5\uff0c\u90a3\u4e48\u5b83\u5c31\u88ab\u5047\u5b9a\u4e3a\u7a7a\uff09\u3002"}),"\n",(0,t.jsxs)(n.p,{children:["\u6211\u4eec\u53ef\u4ee5\u5c06 class User \u58f0\u660e\u7684\u7ed3\u679c\u89e3\u91ca\u4e3a\uff1a\n",(0,t.jsx)(n.img,{src:e(44103).A+"",width:"998",height:"242"})]}),"\n",(0,t.jsx)(n.p,{children:"\u518d\u4e3e\u4e2a\u4f8b\u5b50\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'showLineNumbers title="script.js"',children:"class User {\n  constructor(name) { this.name = name; }\n  sayHi() { console.log(this.name); }\n}\n\n// class \u662f\u4e00\u4e2a\u51fd\u6570\nconsole.log(typeof User); // function\n\n// ...\u6216\u8005\uff0c\u66f4\u786e\u5207\u5730\u8bf4\uff0c\u662f constructor \u65b9\u6cd5\nconsole.log(User === User.prototype.constructor); // true\n\n// \u65b9\u6cd5\u5728 User.prototype \u4e2d\uff0c\u4f8b\u5982\uff1a\nconsole.log(User.prototype.sayHi); // sayHi \u65b9\u6cd5\u7684\u4ee3\u7801\n\n// \u5728\u539f\u578b\u4e2d\u5b9e\u9645\u4e0a\u6709\u4e24\u4e2a\u65b9\u6cd5\nconsole.log(Object.getOwnPropertyNames(User.prototype)); // constructor, sayHi\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:e(75628).A+"",width:"2932",height:"336"})}),"\n",(0,t.jsx)(n.h2,{id:"\u7c7b\u8868\u8fbe\u5f0f",children:"\u7c7b\u8868\u8fbe\u5f0f"}),"\n",(0,t.jsx)(n.p,{children:"\u5c31\u50cf\u51fd\u6570\u4e00\u6837\uff0c\u7c7b\u53ef\u4ee5\u5728\u53e6\u5916\u4e00\u4e2a\u8868\u8fbe\u5f0f\u4e2d\u88ab\u5b9a\u4e49\uff0c\u88ab\u4f20\u9012\uff0c\u88ab\u8fd4\u56de\uff0c\u88ab\u8d4b\u503c\u7b49\u3002"}),"\n",(0,t.jsx)(n.p,{children:"\u7c7b\u4f3c\u4e8e\u547d\u540d\u51fd\u6570\u8868\u8fbe\u5f0f\uff08Named Function Expressions\uff09\uff0c\u7c7b\u8868\u8fbe\u5f0f\u53ef\u80fd\u4e5f\u5e94\u8be5\u6709\u4e00\u4e2a\u540d\u5b57\u3002"}),"\n",(0,t.jsx)(n.p,{children:"\u5982\u679c\u7c7b\u8868\u8fbe\u5f0f\u6709\u540d\u5b57\uff0c\u90a3\u4e48\u8be5\u540d\u5b57\u4ec5\u5728\u7c7b\u5185\u90e8\u53ef\u89c1\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'showLineNumbers title="script.js"',children:"// \u201c\u547d\u540d\u7c7b\u8868\u8fbe\u5f0f\uff08Named Class Expression\uff09\u201d\n// (\u89c4\u8303\u4e2d\u6ca1\u6709\u8fd9\u6837\u7684\u672f\u8bed\uff0c\u4f46\u662f\u5b83\u548c\u547d\u540d\u51fd\u6570\u8868\u8fbe\u5f0f\u7c7b\u4f3c)\nlet User = class MyClass {\n  sayHi() {\n    alert(MyClass); // MyClass \u8fd9\u4e2a\u540d\u5b57\u4ec5\u5728\u7c7b\u5185\u90e8\u53ef\u89c1\n  }\n};\n\nnew User().sayHi(); // \u6b63\u5e38\u8fd0\u884c\uff0c\u663e\u793a MyClass \u4e2d\u5b9a\u4e49\u7684\u5185\u5bb9\n\nalert(MyClass); // error\uff0cMyClass \u5728\u5916\u90e8\u4e0d\u53ef\u89c1\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:e(58517).A+"",width:"2916",height:"626"})}),"\n",(0,t.jsx)(n.h2,{id:"getterssetters",children:"Getters/setters"}),"\n",(0,t.jsx)(n.p,{children:"\u7c7b\u53ef\u80fd\u5305\u62ec getters/setters\uff0c\u8ba1\u7b97\u5c5e\u6027\uff08computed properties\uff09\u7b49"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'showLineNumbers title="script.js"',children:'class User {\n\n  constructor(name) {\n    // \u8c03\u7528 setter\n    this.name = name;\n  }\n\n  get name() {\n    return this._name;\n  }\n\n  set name(value) {\n    if (value.length < 4) {\n      alert("Name is too short.");\n      return;\n    }\n    this._name = value;\n  }\n\n}\n\nlet user = new User("John");\nalert(user.name); // John\n\nuser = new User(""); // Name is too short.\n'})}),"\n",(0,t.jsx)(n.h2,{id:"class-\u5b57\u6bb5",children:"Class \u5b57\u6bb5"}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsx)(n.mdxAdmonitionTitle,{}),(0,t.jsx)(n.p,{children:"\u65e7\u7684\u6d4f\u89c8\u5668\u53ef\u80fd\u9700\u8981 polyfill"}),(0,t.jsx)(n.p,{children:"\u7c7b\u5b57\u6bb5\uff08field\uff09\u662f\u6700\u8fd1\u624d\u6dfb\u52a0\u5230\u8bed\u8a00\u4e2d\u7684\u3002"}),(0,t.jsx)(n.p,{children:"\u5efa\u8bae\u4f7f\u7528Google\u3002"})]}),"\n",(0,t.jsx)(n.p,{children:"\u201c\u7c7b\u5b57\u6bb5\u201d\u662f\u4e00\u79cd\u5141\u8bb8\u6dfb\u52a0\u4efb\u4f55\u5c5e\u6027\u7684\u8bed\u6cd5\u3002"}),"\n",(0,t.jsxs)(n.p,{children:["\u7c7b\u5b57\u6bb5 click = () => "," \u662f\u57fa\u4e8e\u6bcf\u4e00\u4e2a\u5bf9\u8c61\u88ab\u521b\u5efa\u7684\uff0c\u5728\u8fd9\u91cc\u5bf9\u4e8e\u6bcf\u4e00\u4e2a Button \u5bf9\u8c61\u90fd\u6709\u4e00\u4e2a\u72ec\u7acb\u7684\u65b9\u6cd5\uff0c\u5728\u5185\u90e8\u90fd\u6709\u4e00\u4e2a\u6307\u5411\u6b64\u5bf9\u8c61\u7684 this\u3002\u6211\u4eec\u53ef\u4ee5\u628a button.click \u4f20\u9012\u5230\u4efb\u4f55\u5730\u65b9\uff0c\u800c\u4e14 this \u7684\u503c\u603b\u662f\u6b63\u786e\u7684\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'showLineNumbers title="script.js"',children:'class Button {\n  constructor(value) {\n    this.value = value;\n  }\n  click = () => {\n    alert(this.value);\n  }\n}\n\nlet button = new Button("hello");\n\nsetTimeout(button.click, 1000); // hello\n'})})]})}function h(s={}){const{wrapper:n}={...(0,r.R)(),...s.components};return n?(0,t.jsx)(n,{...s,children:(0,t.jsx)(d,{...s})}):d(s)}},44103:(s,n,e)=>{e.d(n,{A:()=>t});const t=e.p+"assets/images/class_01-3ef39208fab20ca3e18f8294f961090a.png"},75628:(s,n,e)=>{e.d(n,{A:()=>t});const t=e.p+"assets/images/class_02-c4463a453aa98612ab4b99849d4cbbe5.png"},58517:(s,n,e)=>{e.d(n,{A:()=>t});const t=e.p+"assets/images/class_03-595a810ac76bc8694f66aa0e2f805e45.png"},71377:(s,n,e)=>{e.d(n,{R:()=>a,x:()=>c});var t=e(79474);const r={},i=t.createContext(r);function a(s){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof s?s(n):{...n,...s}}),[n,s])}function c(s){let n;return n=s.disableParentContext?"function"==typeof s.components?s.components(r):s.components||r:a(s.components),t.createElement(i.Provider,{value:n},s.children)}}}]);